(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{646:function(e,t,a){"use strict";a.r(t);var i=a(1),o=Object(i.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"transferauthorization"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#transferauthorization"}},[e._v("#")]),e._v(" "),t("code",[e._v("TransferAuthorization")])]),e._v(" "),t("p",[t("code",[e._v("TransferAuthorization")]),e._v(" implements the "),t("code",[e._v("Authorization")]),e._v(" interface for "),t("code",[e._v("ibc.applications.transfer.v1.MsgTransfer")]),e._v(". It allows a granter to grant a grantee the privilege to submit MsgTransfer on its behalf. Please see the "),t("a",{attrs:{href:"https://docs.cosmos.network/v0.47/modules/authz",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosmos SDK docs"),t("OutboundLink")],1),e._v(" for more details on granting privileges via the "),t("code",[e._v("x/authz")]),e._v(" module.")]),e._v(" "),t("p",[e._v("More specifically, the granter allows the grantee to transfer funds that belong to the granter over a specified channel.")]),e._v(" "),t("p",[e._v("For the specified channel, the granter must be able to specify a spend limit of a specific denomination they wish to allow the grantee to be able to transfer.")]),e._v(" "),t("p",[e._v("The granter may be able to specify the list of addresses that they allow to receive funds. If empty, then all addresses are allowed.")]),e._v(" "),t("p",[e._v("It takes:")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("a "),t("code",[e._v("SourcePort")]),e._v(" and a "),t("code",[e._v("SourceChannel")]),e._v(" which together comprise the unique transfer channel identifier over which authorized funds can be transferred.")])]),e._v(" "),t("li",[t("p",[e._v("a "),t("code",[e._v("SpendLimit")]),e._v(" that specifies the maximum amount of tokens the grantee can spend. The "),t("code",[e._v("SpendLimit")]),e._v(" is updated as the tokens are spent. This "),t("code",[e._v("SpendLimit")]),e._v(" may also be updated to increase or decrease the limit as the granter wishes.")])]),e._v(" "),t("li",[t("p",[e._v("an "),t("code",[e._v("AllowList")]),e._v(" list that specifies the list of addresses that are allowed to receive funds. If this list is empty, then all addresses are allowed to receive funds from the "),t("code",[e._v("TransferAuthorization")]),e._v(".")])])]),e._v(" "),t("p",[e._v("Setting a "),t("code",[e._v("TransferAuthorization")]),e._v(" is expected to fail if:")]),e._v(" "),t("ul",[t("li",[e._v("the spend limit is nil")]),e._v(" "),t("li",[e._v("the denomination of the spend limit is an invalid coin type")]),e._v(" "),t("li",[e._v("the source port ID is invalid")]),e._v(" "),t("li",[e._v("the source channel ID is invalid")]),e._v(" "),t("li",[e._v("there are duplicate entries in the "),t("code",[e._v("AllowList")])])]),e._v(" "),t("p",[e._v("Below is the "),t("code",[e._v("TransferAuthorization")]),e._v(" message:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyBOZXdUcmFuc2ZlckF1dGhvcml6YXRpb24oYWxsb2NhdGlvbnMgLi4uQWxsb2NhdGlvbikgKlRyYW5zZmVyQXV0aG9yaXphdGlvbiB7CiAgcmV0dXJuICZhbXA7VHJhbnNmZXJBdXRob3JpemF0aW9uewogICAgQWxsb2NhdGlvbnM6IGFsbG9jYXRpb25zLAogIH0KfQoKdHlwZSBBbGxvY2F0aW9uIHN0cnVjdCB7CiAgLy8gdGhlIHBvcnQgb24gd2hpY2ggdGhlIHBhY2tldCB3aWxsIGJlIHNlbnQKICBTb3VyY2VQb3J0IHN0cmluZyAKICAvLyB0aGUgY2hhbm5lbCBieSB3aGljaCB0aGUgcGFja2V0IHdpbGwgYmUgc2VudAogIFNvdXJjZUNoYW5uZWwgc3RyaW5nIAogIC8vIHNwZW5kIGxpbWl0YXRpb24gb24gdGhlIGNoYW5uZWwKICBTcGVuZExpbWl0IHNkay5Db2lucyAgCiAgLy8gYWxsb3cgbGlzdCBvZiByZWNlaXZlcnMsIGFuIGVtcHR5IGFsbG93IGxpc3QgcGVybWl0cyBhbnkgcmVjZWl2ZXIgYWRkcmVzcwogIEFsbG93TGlzdCBbXXN0cmluZyAKfQoK"}})],1)}),[],!1,null,null,null);t.default=o.exports}}]);