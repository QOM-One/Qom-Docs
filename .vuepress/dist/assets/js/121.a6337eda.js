(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{563:function(e,t,c){"use strict";c.r(t);var o=c(1),v=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"state"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#state"}},[e._v("#")]),e._v(" State")]),e._v(" "),t("h2",{attrs:{id:"state-objects"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#state-objects"}},[e._v("#")]),e._v(" State Objects")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("x/epochs")]),e._v(" module keeps the following "),t("code",[e._v("objects in state")]),e._v(":")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("State Object")]),e._v(" "),t("th",[e._v("Description")]),e._v(" "),t("th",[e._v("Key")]),e._v(" "),t("th",[e._v("Value")]),e._v(" "),t("th",[e._v("Store")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[t("code",[e._v("EpochInfo")])]),e._v(" "),t("td",[e._v("Epoch info bytecode")]),e._v(" "),t("td",[t("code",[e._v("[]byte{identifier}")])]),e._v(" "),t("td",[t("code",[e._v("[]byte{epochInfo}")])]),e._v(" "),t("td",[e._v("KV")])])])]),e._v(" "),t("h3",{attrs:{id:"epochinfo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#epochinfo"}},[e._v("#")]),e._v(" EpochInfo")]),e._v(" "),t("p",[e._v("An "),t("code",[e._v("EpochInfo")]),e._v(" defines several variables:")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("identifier")]),e._v(" keeps an epoch identification string")]),e._v(" "),t("li",[t("code",[e._v("start_time")]),e._v(" keeps the start time for epoch counting: if block height passes "),t("code",[e._v("start_time")]),e._v(", then "),t("code",[e._v("epoch_counting_started")]),e._v(" is set")]),e._v(" "),t("li",[t("code",[e._v("duration")]),e._v(" keeps the target epoch duration")]),e._v(" "),t("li",[t("code",[e._v("current_epoch")]),e._v(" keeps the current active epoch number")]),e._v(" "),t("li",[t("code",[e._v("current_epoch_start_time")]),e._v(" keeps the start time of the current epoch")]),e._v(" "),t("li",[t("code",[e._v("epoch_counting_started")]),e._v(" is a flag set with "),t("code",[e._v("start_time")]),e._v(", at which point "),t("code",[e._v("epoch_number")]),e._v(" will be counted")]),e._v(" "),t("li",[t("code",[e._v("current_epoch_start_height")]),e._v(" keeps the start block height of the current epoch")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"bWVzc2FnZSBFcG9jaEluZm8gewogICAgc3RyaW5nIGlkZW50aWZpZXIgPSAxOwogICAgZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBzdGFydF90aW1lID0gMiBbCiAgICAgICAgKGdvZ29wcm90by5zdGR0aW1lKSA9IHRydWUsCiAgICAgICAgKGdvZ29wcm90by5udWxsYWJsZSkgPSBmYWxzZSwKICAgICAgICAoZ29nb3Byb3RvLm1vcmV0YWdzKSA9ICZxdW90O3lhbWw6XCZxdW90O3N0YXJ0X3RpbWVcJnF1b3Q7JnF1b3Q7CiAgICBdOwogICAgZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIGR1cmF0aW9uID0gMyBbCiAgICAgICAgKGdvZ29wcm90by5udWxsYWJsZSkgPSBmYWxzZSwKICAgICAgICAoZ29nb3Byb3RvLnN0ZGR1cmF0aW9uKSA9IHRydWUsCiAgICAgICAgKGdvZ29wcm90by5qc29udGFnKSA9ICZxdW90O2R1cmF0aW9uLG9taXRlbXB0eSZxdW90OywKICAgICAgICAoZ29nb3Byb3RvLm1vcmV0YWdzKSA9ICZxdW90O3lhbWw6XCZxdW90O2R1cmF0aW9uXCZxdW90OyZxdW90OwogICAgXTsKICAgIGludDY0IGN1cnJlbnRfZXBvY2ggPSA0OwogICAgZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBjdXJyZW50X2Vwb2NoX3N0YXJ0X3RpbWUgPSA1IFsKICAgICAgICAoZ29nb3Byb3RvLnN0ZHRpbWUpID0gdHJ1ZSwKICAgICAgICAoZ29nb3Byb3RvLm51bGxhYmxlKSA9IGZhbHNlLAogICAgICAgIChnb2dvcHJvdG8ubW9yZXRhZ3MpID0gJnF1b3Q7eWFtbDpcJnF1b3Q7Y3VycmVudF9lcG9jaF9zdGFydF90aW1lXCZxdW90OyZxdW90OwogICAgXTsKICAgIGJvb2wgZXBvY2hfY291bnRpbmdfc3RhcnRlZCA9IDY7CiAgICByZXNlcnZlZCA3OwogICAgaW50NjQgY3VycmVudF9lcG9jaF9zdGFydF9oZWlnaHQgPSA4Owp9Cg=="}}),e._v(" "),t("p",[e._v("The "),t("code",[e._v("epochs")]),e._v(" module keeps these "),t("code",[e._v("EpochInfo")]),e._v(" objects in state, which are initialized at genesis and are modified on begin blockers or end blockers.")]),e._v(" "),t("h3",{attrs:{id:"genesis-state"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#genesis-state"}},[e._v("#")]),e._v(" Genesis State")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("x/epochs")]),e._v(" module's "),t("code",[e._v("GenesisState")]),e._v(" defines the state necessary for initializing the chain from a previously exported height. It contains a slice containing all the "),t("code",[e._v("EpochInfo")]),e._v(" objects kept in state:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gR2VuZXNpcyBTdGF0ZSBkZWZpbmVzIHRoZSBlcG9jaCBtb2R1bGUncyBnZW5lc2lzIHN0YXRlCnR5cGUgR2VuZXNpc1N0YXRlIHN0cnVjdCB7CiAgICAvLyBsaXN0IG9mIEVwb2NoSW5mbyBzdHJ1Y3RzIGNvcnJlc3BvbmRpbmcgdG8gYWxsIGVwb2NocwoJRXBvY2hzIFtdRXBvY2hJbmZvIGBwcm90b2J1ZjomcXVvdDtieXRlcywxLHJlcCxuYW1lPWVwb2Nocyxwcm90bzMmcXVvdDsganNvbjomcXVvdDtlcG9jaHMmcXVvdDtgCn0K"}})],1)}),[],!1,null,null,null);t.default=v.exports}}]);