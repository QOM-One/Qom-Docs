(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{606:function(t,e,c){"use strict";c.r(e);var a=c(1),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#state"}},[t._v("#")]),t._v(" State")]),t._v(" "),e("h2",{attrs:{id:"state-objects"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#state-objects"}},[t._v("#")]),t._v(" State Objects")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("x/incentives")]),t._v(" module keeps the following objects in state:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("State Object")]),t._v(" "),e("th",[t._v("Description")]),t._v(" "),e("th",[t._v("Key")]),t._v(" "),e("th",[t._v("Value")]),t._v(" "),e("th",[t._v("Store")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Incentive")]),t._v(" "),e("td",[t._v("Incentive bytecode")]),t._v(" "),e("td",[e("code",[t._v("[]byte{1} + []byte(contract)")])]),t._v(" "),e("td",[e("code",[t._v("[]byte{incentive}")])]),t._v(" "),e("td",[t._v("KV")])]),t._v(" "),e("tr",[e("td",[t._v("GasMeter")]),t._v(" "),e("td",[t._v("Incentive id bytecode by erc20 contract bytes")]),t._v(" "),e("td",[e("code",[t._v("[]byte{2} + []byte(contract) + []byte(participant)")])]),t._v(" "),e("td",[e("code",[t._v("[]byte{gasMeter}")])]),t._v(" "),e("td",[t._v("KV")])]),t._v(" "),e("tr",[e("td",[t._v("AllocationMeter")]),t._v(" "),e("td",[t._v("Total allocation bytes by denom bytes")]),t._v(" "),e("td",[e("code",[t._v("[]byte{3} + []byte(denom)")])]),t._v(" "),e("td",[e("code",[t._v("[]byte{sdk.Dec}")])]),t._v(" "),e("td",[t._v("KV")])])])]),t._v(" "),e("h3",{attrs:{id:"incentive"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#incentive"}},[t._v("#")]),t._v(" Incentive")]),t._v(" "),e("p",[t._v("An instance that organizes distribution conditions for a given smart contract.")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBJbmNlbnRpdmUgc3RydWN0IHsKCS8vIGNvbnRyYWN0IGFkZHJlc3MKCUNvbnRyYWN0IHN0cmluZyBgcHJvdG9idWY6JnF1b3Q7Ynl0ZXMsMSxvcHQsbmFtZT1jb250cmFjdCxwcm90bzMmcXVvdDsganNvbjomcXVvdDtjb250cmFjdCxvbWl0ZW1wdHkmcXVvdDtgCgkvLyBkZW5vbXMgYW5kIHBlcmNlbnRhZ2Ugb2YgcmV3YXJkcyB0byBiZSBhbGxvY2F0ZWQKCUFsbG9jYXRpb25zIGdpdGh1Yl9jb21fY29zbW9zX2Nvc21vc19zZGtfdHlwZXMuRGVjQ29pbnMgYHByb3RvYnVmOiZxdW90O2J5dGVzLDIscmVwLG5hbWU9YWxsb2NhdGlvbnMscHJvdG8zLGNhc3RyZXBlYXRlZD1naXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzLkRlY0NvaW5zJnF1b3Q7IGpzb246JnF1b3Q7YWxsb2NhdGlvbnMmcXVvdDtgCgkvLyBudW1iZXIgb2YgcmVtYWluaW5nIGVwb2NocwoJRXBvY2hzIHVpbnQzMiBgcHJvdG9idWY6JnF1b3Q7dmFyaW50LDMsb3B0LG5hbWU9ZXBvY2hzLHByb3RvMyZxdW90OyBqc29uOiZxdW90O2Vwb2NocyxvbWl0ZW1wdHkmcXVvdDtgCgkvLyBkaXN0cmlidXRpb24gc3RhcnQgdGltZQoJU3RhcnRUaW1lIHRpbWUuVGltZSBgcHJvdG9idWY6JnF1b3Q7Ynl0ZXMsNCxvcHQsbmFtZT1zdGFydF90aW1lLGpzb249c3RhcnRUaW1lLHByb3RvMyxzdGR0aW1lJnF1b3Q7IGpzb246JnF1b3Q7c3RhcnRfdGltZSZxdW90O2AKCS8vIGN1bXVsYXRpdmUgZ2FzIHNwZW50IGJ5IGFsbCBnYXNtZXRlcnMgb2YgdGhlIGluY2VudGl2ZSBkdXJpbmcgdGhlIGVwb2NoCglUb3RhbEdhcyB1aW50NjQgYHByb3RvYnVmOiZxdW90O3ZhcmludCw1LG9wdCxuYW1lPXRvdGFsX2dhcyxqc29uPXRvdGFsR2FzLHByb3RvMyZxdW90OyBqc29uOiZxdW90O3RvdGFsX2dhcyxvbWl0ZW1wdHkmcXVvdDtgCn0K"}}),t._v(" "),e("p",[t._v("As long as an incentive has remaining epochs, it distributes rewards according to its allocations. The allocations are stored as "),e("code",[t._v("sdk.DecCoins")]),t._v(" where each containing "),e("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/blob/master/types/dec_coin.go",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("sdk.DecCoin")]),e("OutboundLink")],1),t._v(" describes the percentage of rewards ("),e("code",[t._v("Amount")]),t._v(") that are allocated to the contract for a given coin denomination ("),e("code",[t._v("Denom")]),t._v("). An incentive can contain several allocations, resulting in users to receive rewards in form of several different denominations.")]),t._v(" "),e("h3",{attrs:{id:"gasmeter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gasmeter"}},[t._v("#")]),t._v(" GasMeter")]),t._v(" "),e("p",[t._v("Tracks the cumulative gas spent in a contract per participant during one epoch.")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBHYXNNZXRlciBzdHJ1Y3QgewoJLy8gaGV4IGFkZHJlc3Mgb2YgdGhlIGluY2VudGl2aXplZCBjb250cmFjdAoJQ29udHJhY3Qgc3RyaW5nIGBwcm90b2J1ZjomcXVvdDtieXRlcywxLG9wdCxuYW1lPWNvbnRyYWN0LHByb3RvMyZxdW90OyBqc29uOiZxdW90O2NvbnRyYWN0LG9taXRlbXB0eSZxdW90O2AKCS8vIHBhcnRpY2lwYW50IGFkZHJlc3MgdGhhdCBpbnRlcmFjdHMgd2l0aCB0aGUgaW5jZW50aXZlCglQYXJ0aWNpcGFudCBzdHJpbmcgYHByb3RvYnVmOiZxdW90O2J5dGVzLDIsb3B0LG5hbWU9cGFydGljaXBhbnQscHJvdG8zJnF1b3Q7IGpzb246JnF1b3Q7cGFydGljaXBhbnQsb21pdGVtcHR5JnF1b3Q7YAoJLy8gY3VtdWxhdGl2ZSBnYXMgc3BlbnQgZHVyaW5nIHRoZSBlcG9jaAoJQ3VtdWxhdGl2ZUdhcyB1aW50NjQgYHByb3RvYnVmOiZxdW90O3ZhcmludCwzLG9wdCxuYW1lPWN1bXVsYXRpdmVfZ2FzLGpzb249Y3VtdWxhdGl2ZUdhcyxwcm90bzMmcXVvdDsganNvbjomcXVvdDtjdW11bGF0aXZlX2dhcyxvbWl0ZW1wdHkmcXVvdDtgCn0K"}}),t._v(" "),e("h3",{attrs:{id:"allocationmeter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#allocationmeter"}},[t._v("#")]),t._v(" AllocationMeter")]),t._v(" "),e("p",[t._v("An allocation meter stores the sum of all registered incentivesâ€™ allocations for a given denomination and is used to limit the amount of registered incentives.")]),t._v(" "),e("p",[t._v("Say, there are several incentives that have registered an allocation for the $EVMOS coin and the allocation meter for $EVMOS is at 97%. Then a new incentve proposal can only include an $EVMOS allocation at up to 3%, claiming the last remaining allocation capcaity from the $EVMOS rewards in the inflation pool.")]),t._v(" "),e("h2",{attrs:{id:"genesis-state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#genesis-state"}},[t._v("#")]),t._v(" Genesis State")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("x/incentives")]),t._v(" module's "),e("code",[t._v("GenesisState")]),t._v(" defines the state necessary for initializing the chain from a previously exported height. It contains the module parameters and the list of active incentives and their corresponding gas meters:")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gR2VuZXNpc1N0YXRlIGRlZmluZXMgdGhlIG1vZHVsZSdzIGdlbmVzaXMgc3RhdGUuCnR5cGUgR2VuZXNpc1N0YXRlIHN0cnVjdCB7CgkvLyBtb2R1bGUgcGFyYW1ldGVycwoJUGFyYW1zIFBhcmFtcyBgcHJvdG9idWY6JnF1b3Q7Ynl0ZXMsMSxvcHQsbmFtZT1wYXJhbXMscHJvdG8zJnF1b3Q7IGpzb246JnF1b3Q7cGFyYW1zJnF1b3Q7YAoJLy8gYWN0aXZlIGluY2VudGl2ZXMKCUluY2VudGl2ZXMgW11JbmNlbnRpdmUgYHByb3RvYnVmOiZxdW90O2J5dGVzLDIscmVwLG5hbWU9aW5jZW50aXZlcyxwcm90bzMmcXVvdDsganNvbjomcXVvdDtpbmNlbnRpdmVzJnF1b3Q7YAoJLy8gYWN0aXZlIEdhc21ldGVycwoJR2FzTWV0ZXJzIFtdR2FzTWV0ZXIgYHByb3RvYnVmOiZxdW90O2J5dGVzLDMscmVwLG5hbWU9Z2FzX21ldGVycyxqc29uPWdhc01ldGVycyxwcm90bzMmcXVvdDsganNvbjomcXVvdDtnYXNfbWV0ZXJzJnF1b3Q7YAp9Cg=="}})],1)}),[],!1,null,null,null);e.default=n.exports}}]);