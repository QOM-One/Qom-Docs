(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{561:function(e,t,a){"use strict";a.r(t);var d=a(1),s=Object(d.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"distribution"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#distribution"}},[e._v("#")]),e._v(" "),t("code",[e._v("distribution")])]),e._v(" "),t("h2",{attrs:{id:"overview"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),t("p",[e._v("This "),t("em",[e._v("simple")]),e._v(" distribution mechanism describes a functional way to passively\ndistribute rewards between validators and delegators. Note that this mechanism does\nnot distribute funds in as precisely as active reward distribution mechanisms and\nwill therefore be upgraded in the future.")]),e._v(" "),t("p",[e._v("The mechanism operates as follows. Collected rewards are pooled globally and\ndivided out passively to validators and delegators. Each validator has the\nopportunity to charge commission to the delegators on the rewards collected on\nbehalf of the delegators. Fees are collected directly into a global reward pool\nand validator proposer-reward pool. Due to the nature of passive accounting,\nwhenever changes to parameters which affect the rate of reward distribution\noccurs, withdrawal of rewards must also occur.")]),e._v(" "),t("ul",[t("li",[e._v("Whenever withdrawing, one must withdraw the maximum amount they are entitled\nto, leaving nothing in the pool.")]),e._v(" "),t("li",[e._v("Whenever bonding, unbonding, or re-delegating tokens to an existing account, a\nfull withdrawal of the rewards must occur (as the rules for lazy accounting\nchange).")]),e._v(" "),t("li",[e._v("Whenever a validator chooses to change the commission on rewards, all accumulated\ncommission rewards must be simultaneously withdrawn.")])]),e._v(" "),t("p",[e._v("The above scenarios are covered in "),t("code",[e._v("hooks.md")]),e._v(".")]),e._v(" "),t("p",[e._v("The distribution mechanism outlined herein is used to lazily distribute the\nfollowing rewards between validators and associated delegators:")]),e._v(" "),t("ul",[t("li",[e._v("multi-token fees to be socially distributed")]),e._v(" "),t("li",[e._v("inflated staked asset provisions")]),e._v(" "),t("li",[e._v("validator commission on all rewards earned by their delegators stake")])]),e._v(" "),t("p",[e._v("Fees are pooled within a global pool. The mechanisms used allow for validators\nand delegators to independently and lazily withdraw their rewards.")]),e._v(" "),t("h2",{attrs:{id:"shortcomings"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shortcomings"}},[e._v("#")]),e._v(" Shortcomings")]),e._v(" "),t("p",[e._v("As a part of the lazy computations, each delegator holds an accumulation term\nspecific to each validator which is used to estimate what their approximate\nfair portion of tokens held in the global fee pool is owed to them.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"text",base64:"ZW50aXRsZW1lbnQgPSBkZWxlZ2F0b3ItYWNjdW11bGF0aW9uIC8gYWxsLWRlbGVnYXRvcnMtYWNjdW11bGF0aW9uCg=="}}),e._v(" "),t("p",[e._v("Under the circumstance that there was constant and equal flow of incoming\nreward tokens every block, this distribution mechanism would be equal to the\nactive distribution (distribute individually to all delegators each block).\nHowever, this is unrealistic so deviations from the active distribution will\noccur based on fluctuations of incoming reward tokens as well as timing of\nreward withdrawal by other delegators.")]),e._v(" "),t("p",[e._v("If you happen to know that incoming rewards are about to significantly increase,\nyou are incentivized to not withdraw until after this event, increasing the\nworth of your existing "),t("em",[e._v("accum")]),e._v(". See "),t("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/issues/2764",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2764"),t("OutboundLink")],1),e._v("\nfor further details.")]),e._v(" "),t("h2",{attrs:{id:"effect-on-staking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#effect-on-staking"}},[e._v("#")]),e._v(" Effect on Staking")]),e._v(" "),t("p",[e._v("Charging commission on Atom provisions while also allowing for Atom-provisions\nto be auto-bonded (distributed directly to the validators bonded stake) is\nproblematic within BPoS. Fundamentally, these two mechanisms are mutually\nexclusive. If both commission and auto-bonding mechanisms are simultaneously\napplied to the staking-token then the distribution of staking-tokens between\nany validator and its delegators will change with each block. This then\nnecessitates a calculation for each delegation records for each block -\nwhich is considered computationally expensive.")]),e._v(" "),t("p",[e._v("In conclusion, we can only have Atom commission and unbonded atoms\nprovisions or bonded atom provisions with no Atom commission, and we elect to\nimplement the former. Stakeholders wishing to rebond their provisions may elect\nto set up a script to periodically withdraw and rebond rewards.")]),e._v(" "),t("h2",{attrs:{id:"contents"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contents"}},[e._v("#")]),e._v(" Contents")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#concepts"}},[e._v("Concepts")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#state"}},[e._v("State")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#feepool"}},[e._v("FeePool")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#validator-distribution"}},[e._v("Validator Distribution")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#delegation-distribution"}},[e._v("Delegation Distribution")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#params"}},[e._v("Params")])])])]),e._v(" "),t("li",[t("a",{attrs:{href:"#begin-block"}},[e._v("Begin Block")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#messages"}},[e._v("Messages")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#hooks"}},[e._v("Hooks")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#events"}},[e._v("Events")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#parameters"}},[e._v("Parameters")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#client"}},[e._v("Client")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#cli"}},[e._v("CLI")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#grpc"}},[e._v("gRPC")])])])])]),e._v(" "),t("h2",{attrs:{id:"concepts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#concepts"}},[e._v("#")]),e._v(" Concepts")]),e._v(" "),t("p",[e._v("In Proof of Stake (PoS) blockchains, rewards gained from transaction fees are paid to validators. The fee distribution module fairly distributes the rewards to the validators' constituent delegators.")]),e._v(" "),t("p",[e._v("Rewards are calculated per period. The period is updated each time a validator's delegation changes, for example, when the validator receives a new delegation.\nThe rewards for a single validator can then be calculated by taking the total rewards for the period before the delegation started, minus the current total rewards.\nTo learn more, see the "),t("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/tree/main/docs/spec/fee_distribution/f1_fee_distr.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("F1 Fee Distribution paper"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("The commission to the validator is paid when the validator is removed or when the validator requests a withdrawal.\nThe commission is calculated and incremented at every "),t("code",[e._v("BeginBlock")]),e._v(" operation to update accumulated fee amounts.")]),e._v(" "),t("p",[e._v("The rewards to a delegator are distributed when the delegation is changed or removed, or a withdrawal is requested.\nBefore rewards are distributed, all slashes to the validator that occurred during the current delegation are applied.")]),e._v(" "),t("h3",{attrs:{id:"reference-counting-in-f1-fee-distribution"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reference-counting-in-f1-fee-distribution"}},[e._v("#")]),e._v(" Reference Counting in F1 Fee Distribution")]),e._v(" "),t("p",[e._v("In F1 fee distribution, the rewards a delegator receives are calculated when their delegation is withdrawn. This calculation must read the terms of the summation of rewards divided by the share of tokens from the period which they ended when they delegated, and the final period that was created for the withdrawal.")]),e._v(" "),t("p",[e._v("Additionally, as slashes change the amount of tokens a delegation will have (but we calculate this lazily,\nonly when a delegator un-delegates), we must calculate rewards in separate periods before / after any slashes\nwhich occurred in between when a delegator delegated and when they withdrew their rewards. Thus slashes, like\ndelegations, reference the period which was ended by the slash event.")]),e._v(" "),t("p",[e._v("All stored historical rewards records for periods which are no longer referenced by any delegations\nor any slashes can thus be safely removed, as they will never be read (future delegations and future\nslashes will always reference future periods). This is implemented by tracking a "),t("code",[e._v("ReferenceCount")]),e._v("\nalong with each historical reward storage entry. Each time a new object (delegation or slash)\nis created which might need to reference the historical record, the reference count is incremented.\nEach time one object which previously needed to reference the historical record is deleted, the reference\ncount is decremented. If the reference count hits zero, the historical record is deleted.")]),e._v(" "),t("h2",{attrs:{id:"state"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#state"}},[e._v("#")]),e._v(" State")]),e._v(" "),t("h3",{attrs:{id:"feepool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#feepool"}},[e._v("#")]),e._v(" FeePool")]),e._v(" "),t("p",[e._v("All globally tracked parameters for distribution are stored within\n"),t("code",[e._v("FeePool")]),e._v(". Rewards are collected and added to the reward pool and\ndistributed to validators/delegators from here.")]),e._v(" "),t("p",[e._v("Note that the reward pool holds decimal coins ("),t("code",[e._v("DecCoins")]),e._v(") to allow\nfor fractions of coins to be received from operations like inflation.\nWhen coins are distributed from the pool they are truncated back to\n"),t("code",[e._v("sdk.Coins")]),e._v(" which are non-decimal.")]),e._v(" "),t("ul",[t("li",[e._v("FeePool: "),t("code",[e._v("0x00 -> ProtocolBuffer(FeePool)")])])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gY29pbnMgd2l0aCBkZWNpbWFsCnR5cGUgRGVjQ29pbnMgW11EZWNDb2luCgp0eXBlIERlY0NvaW4gc3RydWN0IHsKICAgIEFtb3VudCBzZGsuRGVjCiAgICBEZW5vbSAgc3RyaW5nCn0K"}}),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf reference",base64:"aHR0cHM6Ly9naXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2Jsb2IvdjAuNDcuMC1yYzEvcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL2Rpc3RyaWJ1dGlvbi5wcm90byNMMTE2LUwxMjMK"}}),e._v(" "),t("h3",{attrs:{id:"validator-distribution"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#validator-distribution"}},[e._v("#")]),e._v(" Validator Distribution")]),e._v(" "),t("p",[e._v("Validator distribution information for the relevant validator is updated each time:")]),e._v(" "),t("ol",[t("li",[e._v("delegation amount to a validator is updated,")]),e._v(" "),t("li",[e._v("any delegator withdraws from a validator, or")]),e._v(" "),t("li",[e._v("the validator withdraws its commission.")])]),e._v(" "),t("ul",[t("li",[e._v("ValidatorDistInfo: "),t("code",[e._v("0x02 | ValOperatorAddrLen (1 byte) | ValOperatorAddr -> ProtocolBuffer(validatorDistribution)")])])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBWYWxpZGF0b3JEaXN0SW5mbyBzdHJ1Y3QgewogICAgT3BlcmF0b3JBZGRyZXNzICAgICBzZGsuQWNjQWRkcmVzcwogICAgU2VsZkJvbmRSZXdhcmRzICAgICBzZGsuRGVjQ29pbnMKICAgIFZhbGlkYXRvckNvbW1pc3Npb24gdHlwZXMuVmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uCn0K"}}),e._v(" "),t("h3",{attrs:{id:"delegation-distribution"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delegation-distribution"}},[e._v("#")]),e._v(" Delegation Distribution")]),e._v(" "),t("p",[e._v("Each delegation distribution only needs to record the height at which it last\nwithdrew fees. Because a delegation must withdraw fees each time it's\nproperties change (aka bonded tokens etc.) its properties will remain constant\nand the delegator's "),t("em",[e._v("accumulation")]),e._v(" factor can be calculated passively knowing\nonly the height of the last withdrawal and its current properties.")]),e._v(" "),t("ul",[t("li",[e._v("DelegationDistInfo: "),t("code",[e._v("0x02 | DelegatorAddrLen (1 byte) | DelegatorAddr | ValOperatorAddrLen (1 byte) | ValOperatorAddr -> ProtocolBuffer(delegatorDist)")])])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBEZWxlZ2F0aW9uRGlzdEluZm8gc3RydWN0IHsKICAgIFdpdGhkcmF3YWxIZWlnaHQgaW50NjQgICAgLy8gbGFzdCB0aW1lIHRoaXMgZGVsZWdhdGlvbiB3aXRoZHJldyByZXdhcmRzCn0K"}}),e._v(" "),t("h3",{attrs:{id:"params"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#params"}},[e._v("#")]),e._v(" Params")]),e._v(" "),t("p",[e._v("The distribution module stores it's params in state with the prefix of "),t("code",[e._v("0x09")]),e._v(",\nit can be updated with governance or the address with authority.")]),e._v(" "),t("ul",[t("li",[e._v("Params: "),t("code",[e._v("0x09 | ProtocolBuffer(Params)")])])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf reference",base64:"aHR0cHM6Ly9naXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2Jsb2IvdjAuNDcuMC1yYzEvcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL2Rpc3RyaWJ1dGlvbi5wcm90byNMMTItTDQyCg=="}}),e._v(" "),t("h2",{attrs:{id:"begin-block"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#begin-block"}},[e._v("#")]),e._v(" Begin Block")]),e._v(" "),t("p",[e._v("At each "),t("code",[e._v("BeginBlock")]),e._v(", all fees received in the previous block are transferred to\nthe distribution "),t("code",[e._v("ModuleAccount")]),e._v(" account. When a delegator or validator\nwithdraws their rewards, they are taken out of the "),t("code",[e._v("ModuleAccount")]),e._v(". During begin\nblock, the different claims on the fees collected are updated as follows:")]),e._v(" "),t("ul",[t("li",[e._v("The reserve community tax is charged.")]),e._v(" "),t("li",[e._v("The remainder is distributed proportionally by voting power to all bonded validators")])]),e._v(" "),t("h3",{attrs:{id:"the-distribution-scheme"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-distribution-scheme"}},[e._v("#")]),e._v(" The Distribution Scheme")]),e._v(" "),t("p",[e._v("See "),t("a",{attrs:{href:"#params"}},[e._v("params")]),e._v(" for description of parameters.")]),e._v(" "),t("p",[e._v("Let "),t("code",[e._v("fees")]),e._v(" be the total fees collected in the previous block, including\ninflationary rewards to the stake. All fees are collected in a specific module\naccount during the block. During "),t("code",[e._v("BeginBlock")]),e._v(", they are sent to the\n"),t("code",[e._v('"distribution"')]),e._v(" "),t("code",[e._v("ModuleAccount")]),e._v(". No other sending of tokens occurs. Instead, the\nrewards each account is entitled to are stored, and withdrawals can be triggered\nthrough the messages "),t("code",[e._v("FundCommunityPool")]),e._v(", "),t("code",[e._v("WithdrawValidatorCommission")]),e._v(" and\n"),t("code",[e._v("WithdrawDelegatorReward")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"reward-to-the-community-pool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reward-to-the-community-pool"}},[e._v("#")]),e._v(" Reward to the Community Pool")]),e._v(" "),t("p",[e._v("The community pool gets "),t("code",[e._v("community_tax * fees")]),e._v(", plus any remaining dust after\nvalidators get their rewards that are always rounded down to the nearest\ninteger value.")]),e._v(" "),t("h4",{attrs:{id:"reward-to-the-validators"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reward-to-the-validators"}},[e._v("#")]),e._v(" Reward To the Validators")]),e._v(" "),t("p",[e._v("The proposer receives no extra rewards. All fees are distributed among all the\nbonded validators, including the proposer, in proportion to their consensus power.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"text",base64:"cG93RnJhYyA9IHZhbGlkYXRvciBwb3dlciAvIHRvdGFsIGJvbmRlZCB2YWxpZGF0b3IgcG93ZXIKdm90ZU11bCA9IDEgLSBjb21tdW5pdHlfdGF4Cg=="}}),e._v(" "),t("p",[e._v("All validators receive "),t("code",[e._v("fees * voteMul * powFrac")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"rewards-to-delegators"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rewards-to-delegators"}},[e._v("#")]),e._v(" Rewards to Delegators")]),e._v(" "),t("p",[e._v("Each validator's rewards are distributed to its delegators. The validator also\nhas a self-delegation that is treated like a regular delegation in\ndistribution calculations.")]),e._v(" "),t("p",[e._v("The validator sets a commission rate. The commission rate is flexible, but each\nvalidator sets a maximum rate and a maximum daily increase. These maximums cannot be exceeded and protect delegators from sudden increases of validator commission rates to prevent validators from taking all of the rewards.")]),e._v(" "),t("p",[e._v("The outstanding rewards that the operator is entitled to are stored in\n"),t("code",[e._v("ValidatorAccumulatedCommission")]),e._v(", while the rewards the delegators are entitled\nto are stored in "),t("code",[e._v("ValidatorCurrentRewards")]),e._v(". The "),t("a",{attrs:{href:"#concepts"}},[e._v("F1 fee distribution scheme")]),e._v(" is used to calculate the rewards per delegator as they\nwithdraw or update their delegation, and is thus not handled in "),t("code",[e._v("BeginBlock")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"example-distribution"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-distribution"}},[e._v("#")]),e._v(" Example Distribution")]),e._v(" "),t("p",[e._v("For this example distribution, the underlying consensus engine selects block proposers in\nproportion to their power relative to the entire bonded power.")]),e._v(" "),t("p",[e._v("All validators are equally performant at including pre-commits in their proposed\nblocks. Then hold "),t("code",[e._v("(pre_commits included) / (total bonded validator power)")]),e._v("\nconstant so that the amortized block reward for the validator is "),t("code",[e._v("( validator power / total bonded power) * (1 - community tax rate)")]),e._v(" of\nthe total rewards. Consequently, the reward for a single delegator is:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"text",base64:"KGRlbGVnYXRvciBwcm9wb3J0aW9uIG9mIHRoZSB2YWxpZGF0b3IgcG93ZXIgLyB2YWxpZGF0b3IgcG93ZXIpICogKHZhbGlkYXRvciBwb3dlciAvIHRvdGFsIGJvbmRlZCBwb3dlcikKICAqICgxIC0gY29tbXVuaXR5IHRheCByYXRlKSAqICgxIC0gdmFsaWRhdG9yIGNvbW1pc3Npb24gcmF0ZSkKPSAoZGVsZWdhdG9yIHByb3BvcnRpb24gb2YgdGhlIHZhbGlkYXRvciBwb3dlciAvIHRvdGFsIGJvbmRlZCBwb3dlcikgKiAoMSAtCmNvbW11bml0eSB0YXggcmF0ZSkgKiAoMSAtIHZhbGlkYXRvciBjb21taXNzaW9uIHJhdGUpCg=="}}),e._v(" "),t("h2",{attrs:{id:"messages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#messages"}},[e._v("#")]),e._v(" Messages")]),e._v(" "),t("h3",{attrs:{id:"msgsetwithdrawaddress"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#msgsetwithdrawaddress"}},[e._v("#")]),e._v(" MsgSetWithdrawAddress")]),e._v(" "),t("p",[e._v("By default, the withdraw address is the delegator address. To change its withdraw address, a delegator must send a "),t("code",[e._v("MsgSetWithdrawAddress")]),e._v(" message.\nChanging the withdraw address is possible only if the parameter "),t("code",[e._v("WithdrawAddrEnabled")]),e._v(" is set to "),t("code",[e._v("true")]),e._v(".")]),e._v(" "),t("p",[e._v("The withdraw address cannot be any of the module accounts. These accounts are blocked from being withdraw addresses by being added to the distribution keeper's "),t("code",[e._v("blockedAddrs")]),e._v(" array at initialization.")]),e._v(" "),t("p",[e._v("Response:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf reference",base64:"aHR0cHM6Ly9naXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2Jsb2IvdjAuNDcuMC1yYzEvcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3R4LnByb3RvI0w0OS1MNjAK"}}),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyAoayBLZWVwZXIpIFNldFdpdGhkcmF3QWRkcihjdHggc2RrLkNvbnRleHQsIGRlbGVnYXRvckFkZHIgc2RrLkFjY0FkZHJlc3MsIHdpdGhkcmF3QWRkciBzZGsuQWNjQWRkcmVzcykgZXJyb3IKCWlmIGsuYmxvY2tlZEFkZHJzW3dpdGhkcmF3QWRkci5TdHJpbmcoKV0gewoJCWZhaWwgd2l0aCAmcXVvdDtge3dpdGhkcmF3QWRkcn1gIGlzIG5vdCBhbGxvd2VkIHRvIHJlY2VpdmUgZXh0ZXJuYWwgZnVuZHMmcXVvdDsKCX0KCglpZiAhay5HZXRXaXRoZHJhd0FkZHJFbmFibGVkKGN0eCkgewoJCWZhaWwgd2l0aCBgRXJyU2V0V2l0aGRyYXdBZGRyRGlzYWJsZWRgCgl9CgoJay5TZXREZWxlZ2F0b3JXaXRoZHJhd0FkZHIoY3R4LCBkZWxlZ2F0b3JBZGRyLCB3aXRoZHJhd0FkZHIpCg=="}}),e._v(" "),t("h3",{attrs:{id:"msgwithdrawdelegatorreward"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#msgwithdrawdelegatorreward"}},[e._v("#")]),e._v(" MsgWithdrawDelegatorReward")]),e._v(" "),t("p",[e._v("A delegator can withdraw its rewards.\nInternally in the distribution module, this transaction simultaneously removes the previous delegation with associated rewards, the same as if the delegator simply started a new delegation of the same value.\nThe rewards are sent immediately from the distribution "),t("code",[e._v("ModuleAccount")]),e._v(" to the withdraw address.\nAny remainder (truncated decimals) are sent to the community pool.\nThe starting height of the delegation is set to the current validator period, and the reference count for the previous period is decremented.\nThe amount withdrawn is deducted from the "),t("code",[e._v("ValidatorOutstandingRewards")]),e._v(" variable for the validator.")]),e._v(" "),t("p",[e._v("In the F1 distribution, the total rewards are calculated per validator period, and a delegator receives a piece of those rewards in proportion to their stake in the validator.\nIn basic F1, the total rewards that all the delegators are entitled to between to periods is calculated the following way.\nLet "),t("code",[e._v("R(X)")]),e._v(" be the total accumulated rewards up to period "),t("code",[e._v("X")]),e._v(" divided by the tokens staked at that time. The delegator allocation is "),t("code",[e._v("R(X) * delegator_stake")]),e._v(".\nThen the rewards for all the delegators for staking between periods "),t("code",[e._v("A")]),e._v(" and "),t("code",[e._v("B")]),e._v(" are "),t("code",[e._v("(R(B) - R(A)) * total stake")]),e._v(".\nHowever, these calculated rewards don't account for slashing.")]),e._v(" "),t("p",[e._v("Taking the slashes into account requires iteration.\nLet "),t("code",[e._v("F(X)")]),e._v(" be the fraction a validator is to be slashed for a slashing event that happened at period "),t("code",[e._v("X")]),e._v(".\nIf the validator was slashed at periods "),t("code",[e._v("P1, ..., PN")]),e._v(", where "),t("code",[e._v("A < P1")]),e._v(", "),t("code",[e._v("PN < B")]),e._v(", the distribution module calculates the individual delegator's rewards, "),t("code",[e._v("T(A, B)")]),e._v(", as follows:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"c3Rha2UgOj0gaW5pdGlhbCBzdGFrZQpyZXdhcmRzIDo9IDAKcHJldmlvdXMgOj0gQQpmb3IgUCBpbiBQMSwgLi4uLCBQTmA6CiAgICByZXdhcmRzID0gKFIoUCkgLSBwcmV2aW91cykgKiBzdGFrZQogICAgc3Rha2UgPSBzdGFrZSAqIEYoUCkKICAgIHByZXZpb3VzID0gUApyZXdhcmRzID0gcmV3YXJkcyArIChSKEIpIC0gUihQTikpICogc3Rha2UK"}}),e._v(" "),t("p",[e._v("The historical rewards are calculated retroactively by playing back all the slashes and then attenuating the delegator's stake at each step.\nThe final calculated stake is equivalent to the actual staked coins in the delegation with a margin of error due to rounding errors.")]),e._v(" "),t("p",[e._v("Response:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf reference",base64:"aHR0cHM6Ly9naXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2Jsb2IvdjAuNDcuMC1yYzEvcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3R4LnByb3RvI0w2Ni1MNzcK"}}),e._v(" "),t("h3",{attrs:{id:"withdrawvalidatorcommission"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#withdrawvalidatorcommission"}},[e._v("#")]),e._v(" WithdrawValidatorCommission")]),e._v(" "),t("p",[e._v("The validator can send the WithdrawValidatorCommission message to withdraw their accumulated commission.\nThe commission is calculated in every block during "),t("code",[e._v("BeginBlock")]),e._v(", so no iteration is required to withdraw.\nThe amount withdrawn is deducted from the "),t("code",[e._v("ValidatorOutstandingRewards")]),e._v(" variable for the validator.\nOnly integer amounts can be sent. If the accumulated awards have decimals, the amount is truncated before the withdrawal is sent, and the remainder is left to be withdrawn later.")]),e._v(" "),t("h3",{attrs:{id:"fundcommunitypool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fundcommunitypool"}},[e._v("#")]),e._v(" FundCommunityPool")]),e._v(" "),t("p",[e._v("This message sends coins directly from the sender to the community pool.")]),e._v(" "),t("p",[e._v("The transaction fails if the amount cannot be transferred from the sender to the distribution module account.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyAoayBLZWVwZXIpIEZ1bmRDb21tdW5pdHlQb29sKGN0eCBzZGsuQ29udGV4dCwgYW1vdW50IHNkay5Db2lucywgc2VuZGVyIHNkay5BY2NBZGRyZXNzKSBlcnJvciB7CiAgICBpZiBlcnIgOj0gay5iYW5rS2VlcGVyLlNlbmRDb2luc0Zyb21BY2NvdW50VG9Nb2R1bGUoY3R4LCBzZW5kZXIsIHR5cGVzLk1vZHVsZU5hbWUsIGFtb3VudCk7IGVyciAhPSBuaWwgewogICAgICAgIHJldHVybiBlcnIKICAgIH0KCglmZWVQb29sIDo9IGsuR2V0RmVlUG9vbChjdHgpCglmZWVQb29sLkNvbW11bml0eVBvb2wgPSBmZWVQb29sLkNvbW11bml0eVBvb2wuQWRkKHNkay5OZXdEZWNDb2luc0Zyb21Db2lucyhhbW91bnQuLi4pLi4uKQoJay5TZXRGZWVQb29sKGN0eCwgZmVlUG9vbCkKCglyZXR1cm4gbmlsCn0K"}}),e._v(" "),t("h3",{attrs:{id:"common-distribution-operations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#common-distribution-operations"}},[e._v("#")]),e._v(" Common distribution operations")]),e._v(" "),t("p",[e._v("These operations take place during many different messages.")]),e._v(" "),t("h4",{attrs:{id:"initialize-delegation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#initialize-delegation"}},[e._v("#")]),e._v(" Initialize delegation")]),e._v(" "),t("p",[e._v("Each time a delegation is changed, the rewards are withdrawn and the delegation is reinitialized.\nInitializing a delegation increments the validator period and keeps track of the starting period of the delegation.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gaW5pdGlhbGl6ZSBzdGFydGluZyBpbmZvIGZvciBhIG5ldyBkZWxlZ2F0aW9uCmZ1bmMgKGsgS2VlcGVyKSBpbml0aWFsaXplRGVsZWdhdGlvbihjdHggc2RrLkNvbnRleHQsIHZhbCBzZGsuVmFsQWRkcmVzcywgZGVsIHNkay5BY2NBZGRyZXNzKSB7CiAgICAvLyBwZXJpb2QgaGFzIGFscmVhZHkgYmVlbiBpbmNyZW1lbnRlZCAtIHdlIHdhbnQgdG8gc3RvcmUgdGhlIHBlcmlvZCBlbmRlZCBieSB0aGlzIGRlbGVnYXRpb24gYWN0aW9uCiAgICBwcmV2aW91c1BlcmlvZCA6PSBrLkdldFZhbGlkYXRvckN1cnJlbnRSZXdhcmRzKGN0eCwgdmFsKS5QZXJpb2QgLSAxCgoJLy8gaW5jcmVtZW50IHJlZmVyZW5jZSBjb3VudCBmb3IgdGhlIHBlcmlvZCB3ZSdyZSBnb2luZyB0byB0cmFjawoJay5pbmNyZW1lbnRSZWZlcmVuY2VDb3VudChjdHgsIHZhbCwgcHJldmlvdXNQZXJpb2QpCgoJdmFsaWRhdG9yIDo9IGsuc3Rha2luZ0tlZXBlci5WYWxpZGF0b3IoY3R4LCB2YWwpCglkZWxlZ2F0aW9uIDo9IGsuc3Rha2luZ0tlZXBlci5EZWxlZ2F0aW9uKGN0eCwgZGVsLCB2YWwpCgoJLy8gY2FsY3VsYXRlIGRlbGVnYXRpb24gc3Rha2UgaW4gdG9rZW5zCgkvLyB3ZSBkb24ndCBzdG9yZSBkaXJlY3RseSwgc28gbXVsdGlwbHkgZGVsZWdhdGlvbiBzaGFyZXMgKiAodG9rZW5zIHBlciBzaGFyZSkKCS8vIG5vdGU6IG5lY2Vzc2FyeSB0byB0cnVuY2F0ZSBzbyB3ZSBkb24ndCBhbGxvdyB3aXRoZHJhd2luZyBtb3JlIHJld2FyZHMgdGhhbiBvd2VkCglzdGFrZSA6PSB2YWxpZGF0b3IuVG9rZW5zRnJvbVNoYXJlc1RydW5jYXRlZChkZWxlZ2F0aW9uLkdldFNoYXJlcygpKQoJay5TZXREZWxlZ2F0b3JTdGFydGluZ0luZm8oY3R4LCB2YWwsIGRlbCwgdHlwZXMuTmV3RGVsZWdhdG9yU3RhcnRpbmdJbmZvKHByZXZpb3VzUGVyaW9kLCBzdGFrZSwgdWludDY0KGN0eC5CbG9ja0hlaWdodCgpKSkpCn0K"}}),e._v(" "),t("h3",{attrs:{id:"msgupdateparams"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#msgupdateparams"}},[e._v("#")]),e._v(" MsgUpdateParams")]),e._v(" "),t("p",[e._v("Distribution module params can be updated through "),t("code",[e._v("MsgUpdateParams")]),e._v(", which can be done using governance proposal and the signer will always be gov module account address.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf reference",base64:"aHR0cHM6Ly9naXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2Jsb2IvdjAuNDcuMC1yYzEvcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3R4LnByb3RvI0wxMzMtTDE0Nwo="}}),e._v(" "),t("p",[e._v("The message handling can fail if:")]),e._v(" "),t("ul",[t("li",[e._v("signer is not the gov module account address.")])]),e._v(" "),t("h2",{attrs:{id:"hooks"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hooks"}},[e._v("#")]),e._v(" Hooks")]),e._v(" "),t("p",[e._v("Available hooks that can be called by and from this module.")]),e._v(" "),t("h3",{attrs:{id:"create-or-modify-delegation-distribution"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-or-modify-delegation-distribution"}},[e._v("#")]),e._v(" Create or modify delegation distribution")]),e._v(" "),t("ul",[t("li",[e._v("triggered-by: "),t("code",[e._v("staking.MsgDelegate")]),e._v(", "),t("code",[e._v("staking.MsgBeginRedelegate")]),e._v(", "),t("code",[e._v("staking.MsgUndelegate")])])]),e._v(" "),t("h4",{attrs:{id:"before"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#before"}},[e._v("#")]),e._v(" Before")]),e._v(" "),t("ul",[t("li",[e._v("The delegation rewards are withdrawn to the withdraw address of the delegator.\nThe rewards include the current period and exclude the starting period.")]),e._v(" "),t("li",[e._v("The validator period is incremented.\nThe validator period is incremented because the validator's power and share distribution might have changed.")]),e._v(" "),t("li",[e._v("The reference count for the delegator's starting period is decremented.")])]),e._v(" "),t("h4",{attrs:{id:"after"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#after"}},[e._v("#")]),e._v(" After")]),e._v(" "),t("p",[e._v("The starting height of the delegation is set to the previous period.\nBecause of the "),t("code",[e._v("Before")]),e._v("-hook, this period is the last period for which the delegator was rewarded.")]),e._v(" "),t("h3",{attrs:{id:"validator-created"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#validator-created"}},[e._v("#")]),e._v(" Validator created")]),e._v(" "),t("ul",[t("li",[e._v("triggered-by: "),t("code",[e._v("staking.MsgCreateValidator")])])]),e._v(" "),t("p",[e._v("When a validator is created, the following validator variables are initialized:")]),e._v(" "),t("ul",[t("li",[e._v("Historical rewards")]),e._v(" "),t("li",[e._v("Current accumulated rewards")]),e._v(" "),t("li",[e._v("Accumulated commission")]),e._v(" "),t("li",[e._v("Total outstanding rewards")]),e._v(" "),t("li",[e._v("Period")])]),e._v(" "),t("p",[e._v("By default, all values are set to a "),t("code",[e._v("0")]),e._v(", except period, which is set to "),t("code",[e._v("1")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"validator-removed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#validator-removed"}},[e._v("#")]),e._v(" Validator removed")]),e._v(" "),t("ul",[t("li",[e._v("triggered-by: "),t("code",[e._v("staking.RemoveValidator")])])]),e._v(" "),t("p",[e._v("Outstanding commission is sent to the validator's self-delegation withdrawal address.\nRemaining delegator rewards get sent to the community fee pool.")]),e._v(" "),t("p",[e._v("Note: The validator gets removed only when it has no remaining delegations.\nAt that time, all outstanding delegator rewards will have been withdrawn.\nAny remaining rewards are dust amounts.")]),e._v(" "),t("h3",{attrs:{id:"validator-is-slashed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#validator-is-slashed"}},[e._v("#")]),e._v(" Validator is slashed")]),e._v(" "),t("ul",[t("li",[e._v("triggered-by: "),t("code",[e._v("staking.Slash")])]),e._v(" "),t("li",[e._v("The current validator period reference count is incremented.\nThe reference count is incremented because the slash event has created a reference to it.")]),e._v(" "),t("li",[e._v("The validator period is incremented.")]),e._v(" "),t("li",[e._v("The slash event is stored for later use.\nThe slash event will be referenced when calculating delegator rewards.")])]),e._v(" "),t("h2",{attrs:{id:"events"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[e._v("#")]),e._v(" Events")]),e._v(" "),t("p",[e._v("The distribution module emits the following events:")]),e._v(" "),t("h3",{attrs:{id:"beginblocker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#beginblocker"}},[e._v("#")]),e._v(" BeginBlocker")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Type")]),e._v(" "),t("th",[e._v("Attribute Key")]),e._v(" "),t("th",[e._v("Attribute Value")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("proposer_reward")]),e._v(" "),t("td",[e._v("validator")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("proposer_reward")]),e._v(" "),t("td",[e._v("reward")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("commission")]),e._v(" "),t("td",[e._v("amount")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("commission")]),e._v(" "),t("td",[e._v("validator")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("rewards")]),e._v(" "),t("td",[e._v("amount")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("rewards")]),e._v(" "),t("td",[e._v("validator")]),e._v(" "),t("td")])])]),e._v(" "),t("h3",{attrs:{id:"handlers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#handlers"}},[e._v("#")]),e._v(" Handlers")]),e._v(" "),t("h4",{attrs:{id:"msgsetwithdrawaddress-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#msgsetwithdrawaddress-2"}},[e._v("#")]),e._v(" MsgSetWithdrawAddress")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Type")]),e._v(" "),t("th",[e._v("Attribute Key")]),e._v(" "),t("th",[e._v("Attribute Value")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("set_withdraw_address")]),e._v(" "),t("td",[e._v("withdraw_address")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("message")]),e._v(" "),t("td",[e._v("module")]),e._v(" "),t("td",[e._v("distribution")])]),e._v(" "),t("tr",[t("td",[e._v("message")]),e._v(" "),t("td",[e._v("action")]),e._v(" "),t("td",[e._v("set_withdraw_address")])]),e._v(" "),t("tr",[t("td",[e._v("message")]),e._v(" "),t("td",[e._v("sender")]),e._v(" "),t("td")])])]),e._v(" "),t("h4",{attrs:{id:"msgwithdrawdelegatorreward-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#msgwithdrawdelegatorreward-2"}},[e._v("#")]),e._v(" MsgWithdrawDelegatorReward")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Type")]),e._v(" "),t("th",[e._v("Attribute Key")]),e._v(" "),t("th",[e._v("Attribute Value")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("withdraw_rewards")]),e._v(" "),t("td",[e._v("amount")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("withdraw_rewards")]),e._v(" "),t("td",[e._v("validator")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("message")]),e._v(" "),t("td",[e._v("module")]),e._v(" "),t("td",[e._v("distribution")])]),e._v(" "),t("tr",[t("td",[e._v("message")]),e._v(" "),t("td",[e._v("action")]),e._v(" "),t("td",[e._v("withdraw_delegator_reward")])]),e._v(" "),t("tr",[t("td",[e._v("message")]),e._v(" "),t("td",[e._v("sender")]),e._v(" "),t("td")])])]),e._v(" "),t("h4",{attrs:{id:"msgwithdrawvalidatorcommission"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#msgwithdrawvalidatorcommission"}},[e._v("#")]),e._v(" MsgWithdrawValidatorCommission")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Type")]),e._v(" "),t("th",[e._v("Attribute Key")]),e._v(" "),t("th",[e._v("Attribute Value")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("withdraw_commission")]),e._v(" "),t("td",[e._v("amount")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("message")]),e._v(" "),t("td",[e._v("module")]),e._v(" "),t("td",[e._v("distribution")])]),e._v(" "),t("tr",[t("td",[e._v("message")]),e._v(" "),t("td",[e._v("action")]),e._v(" "),t("td",[e._v("withdraw_validator_commission")])]),e._v(" "),t("tr",[t("td",[e._v("message")]),e._v(" "),t("td",[e._v("sender")]),e._v(" "),t("td")])])]),e._v(" "),t("h2",{attrs:{id:"parameters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#parameters"}},[e._v("#")]),e._v(" Parameters")]),e._v(" "),t("p",[e._v("The distribution module contains the following parameters:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Key")]),e._v(" "),t("th",[e._v("Type")]),e._v(" "),t("th",[e._v("Example")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("communitytax")]),e._v(" "),t("td",[e._v("string (dec)")]),e._v(" "),t("td",[e._v('"0.020000000000000000" [0]')])]),e._v(" "),t("tr",[t("td",[e._v("withdrawaddrenabled")]),e._v(" "),t("td",[e._v("bool")]),e._v(" "),t("td",[e._v("true")])])])]),e._v(" "),t("ul",[t("li",[e._v("[0] "),t("code",[e._v("communitytax")]),e._v(" must be positive and cannot exceed 1.00.")]),e._v(" "),t("li",[t("code",[e._v("baseproposerreward")]),e._v(" and "),t("code",[e._v("bonusproposerreward")]),e._v(" were parameters that are deprecated in v0.47 and are not used.")])]),e._v(" "),t("h2",{attrs:{id:"client"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#client"}},[e._v("#")]),e._v(" Client")]),e._v(" "),t("h2",{attrs:{id:"cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cli"}},[e._v("#")]),e._v(" CLI")]),e._v(" "),t("p",[e._v("A user can query and interact with the "),t("code",[e._v("distribution")]),e._v(" module using the CLI.")]),e._v(" "),t("h4",{attrs:{id:"query"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#query"}},[e._v("#")]),e._v(" Query")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("query")]),e._v(" commands allow users to query "),t("code",[e._v("distribution")]),e._v(" state.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gLS1oZWxwCg=="}}),e._v(" "),t("h5",{attrs:{id:"commission"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commission"}},[e._v("#")]),e._v(" commission")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("commission")]),e._v(" command allows users to query validator commission rewards by address.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gY29tbWlzc2lvbiBbYWRkcmVzc10gW2ZsYWdzXQo="}}),e._v(" "),t("p",[e._v("Example:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gY29tbWlzc2lvbiBjb3Ntb3N2YWxvcGVyMS4uLgo="}}),e._v(" "),t("p",[e._v("Example Output:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"yml",base64:"Y29tbWlzc2lvbjoKLSBhbW91bnQ6ICZxdW90OzEwMDAwMDAuMDAwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgZGVub206IHN0YWtlCg=="}}),e._v(" "),t("h5",{attrs:{id:"community-pool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#community-pool"}},[e._v("#")]),e._v(" community-pool")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("community-pool")]),e._v(" command allows users to query all coin balances within the community pool.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gY29tbXVuaXR5LXBvb2wgW2ZsYWdzXQo="}}),e._v(" "),t("p",[e._v("Example:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gY29tbXVuaXR5LXBvb2wK"}}),e._v(" "),t("p",[e._v("Example Output:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"yml",base64:"cG9vbDoKLSBhbW91bnQ6ICZxdW90OzEwMDAwMDAuMDAwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgZGVub206IHN0YWtlCg=="}}),e._v(" "),t("h5",{attrs:{id:"params-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#params-2"}},[e._v("#")]),e._v(" params")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("params")]),e._v(" command allows users to query the parameters of the "),t("code",[e._v("distribution")]),e._v(" module.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gcGFyYW1zIFtmbGFnc10K"}}),e._v(" "),t("p",[e._v("Example:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gcGFyYW1zCg=="}}),e._v(" "),t("p",[e._v("Example Output:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"yml",base64:"YmFzZV9wcm9wb3Nlcl9yZXdhcmQ6ICZxdW90OzAuMDAwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CmJvbnVzX3Byb3Bvc2VyX3Jld2FyZDogJnF1b3Q7MC4wMDAwMDAwMDAwMDAwMDAwMDAmcXVvdDsKY29tbXVuaXR5X3RheDogJnF1b3Q7MC4wMjAwMDAwMDAwMDAwMDAwMDAmcXVvdDsKd2l0aGRyYXdfYWRkcl9lbmFibGVkOiB0cnVlCg=="}}),e._v(" "),t("h5",{attrs:{id:"rewards"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rewards"}},[e._v("#")]),e._v(" rewards")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("rewards")]),e._v(" command allows users to query delegator rewards. Users can optionally include the validator address to query rewards earned from a specific validator.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gcmV3YXJkcyBbZGVsZWdhdG9yLWFkZHJdIFt2YWxpZGF0b3ItYWRkcl0gW2ZsYWdzXQo="}}),e._v(" "),t("p",[e._v("Example:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gcmV3YXJkcyBjb3Ntb3MxLi4uCg=="}}),e._v(" "),t("p",[e._v("Example Output:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"yml",base64:"cmV3YXJkczoKLSByZXdhcmQ6CiAgLSBhbW91bnQ6ICZxdW90OzEwMDAwMDAuMDAwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgICBkZW5vbTogc3Rha2UKICB2YWxpZGF0b3JfYWRkcmVzczogY29zbW9zdmFsb3BlcjEuLgp0b3RhbDoKLSBhbW91bnQ6ICZxdW90OzEwMDAwMDAuMDAwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgZGVub206IHN0YWtlCg=="}}),e._v(" "),t("h5",{attrs:{id:"slashes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#slashes"}},[e._v("#")]),e._v(" slashes")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("slashes")]),e._v(" command allows users to query all slashes for a given block range.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gc2xhc2hlcyBbdmFsaWRhdG9yXSBbc3RhcnQtaGVpZ2h0XSBbZW5kLWhlaWdodF0gW2ZsYWdzXQo="}}),e._v(" "),t("p",[e._v("Example:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gc2xhc2hlcyBjb3Ntb3N2YWxvcGVyMS4uLiAxIDEwMDAK"}}),e._v(" "),t("p",[e._v("Example Output:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"yml",base64:"cGFnaW5hdGlvbjoKICBuZXh0X2tleTogbnVsbAogIHRvdGFsOiAmcXVvdDswJnF1b3Q7CnNsYXNoZXM6Ci0gdmFsaWRhdG9yX3BlcmlvZDogMjAsCiAgZnJhY3Rpb246ICZxdW90OzAuMDA5OTk5OTk5OTk5OTk5OTk5JnF1b3Q7Cg=="}}),e._v(" "),t("h5",{attrs:{id:"validator-outstanding-rewards"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#validator-outstanding-rewards"}},[e._v("#")]),e._v(" validator-outstanding-rewards")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("validator-outstanding-rewards")]),e._v(" command allows users to query all outstanding (un-withdrawn) rewards for a validator and all their delegations.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gdmFsaWRhdG9yLW91dHN0YW5kaW5nLXJld2FyZHMgW3ZhbGlkYXRvcl0gW2ZsYWdzXQo="}}),e._v(" "),t("p",[e._v("Example:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gdmFsaWRhdG9yLW91dHN0YW5kaW5nLXJld2FyZHMgY29zbW9zdmFsb3BlcjEuLi4K"}}),e._v(" "),t("p",[e._v("Example Output:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"yml",base64:"cmV3YXJkczoKLSBhbW91bnQ6ICZxdW90OzEwMDAwMDAuMDAwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgZGVub206IHN0YWtlCg=="}}),e._v(" "),t("h5",{attrs:{id:"validator-distribution-info"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#validator-distribution-info"}},[e._v("#")]),e._v(" validator-distribution-info")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("validator-distribution-info")]),e._v(" command allows users to query validator commission and self-delegation rewards for validator.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c2ltZCBxdWVyeSBkaXN0cmlidXRpb24gdmFsaWRhdG9yLWRpc3RyaWJ1dGlvbi1pbmZvIGNvc21vc3ZhbG9wZXIxLi4uCmBgYAoKRXhhbXBsZSBPdXRwdXQ6CgpgYGB5bWwKY29tbWlzc2lvbjoKLSBhbW91bnQ6ICZxdW90OzEwMDAwMC4wMDAwMDAwMDAwMDAwMDAwMDAmcXVvdDsKICBkZW5vbTogc3Rha2UKb3BlcmF0b3JfYWRkcmVzczogY29zbW9zdmFsb3BlcjEuLi4Kc2VsZl9ib25kX3Jld2FyZHM6Ci0gYW1vdW50OiAmcXVvdDsxMDAwMDAuMDAwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgZGVub206IHN0YWtlCmBgYAoKIyMjIyBUcmFuc2FjdGlvbnMKClRoZSBgdHhgIGNvbW1hbmRzIGFsbG93IHVzZXJzIHRvIGludGVyYWN0IHdpdGggdGhlIGBkaXN0cmlidXRpb25gIG1vZHVsZS4KCmBgYHNoZWxsCnNpbWQgdHggZGlzdHJpYnV0aW9uIC0taGVscApgYGAKCiMjIyMjIGZ1bmQtY29tbXVuaXR5LXBvb2wKClRoZSBgZnVuZC1jb21tdW5pdHktcG9vbGAgY29tbWFuZCBhbGxvd3MgdXNlcnMgdG8gc2VuZCBmdW5kcyB0byB0aGUgY29tbXVuaXR5IHBvb2wuCgpgYGBzaGVsbApzaW1kIHR4IGRpc3RyaWJ1dGlvbiBmdW5kLWNvbW11bml0eS1wb29sIFthbW91bnRdIFtmbGFnc10KYGBgCgpFeGFtcGxlOgoKYGBgc2hlbGwKc2ltZCB0eCBkaXN0cmlidXRpb24gZnVuZC1jb21tdW5pdHktcG9vbCAxMDBzdGFrZSAtLWZyb20gY29zbW9zMS4uLgpgYGAKCiMjIyMjIHNldC13aXRoZHJhdy1hZGRyCgpUaGUgYHNldC13aXRoZHJhdy1hZGRyYCBjb21tYW5kIGFsbG93cyB1c2VycyB0byBzZXQgdGhlIHdpdGhkcmF3IGFkZHJlc3MgZm9yIHJld2FyZHMgYXNzb2NpYXRlZCB3aXRoIGEgZGVsZWdhdG9yIGFkZHJlc3MuCgpgYGBzaGVsbApzaW1kIHR4IGRpc3RyaWJ1dGlvbiBzZXQtd2l0aGRyYXctYWRkciBbd2l0aGRyYXctYWRkcl0gW2ZsYWdzXQpgYGAKCkV4YW1wbGU6CgpgYGBzaGVsbApzaW1kIHR4IGRpc3RyaWJ1dGlvbiBzZXQtd2l0aGRyYXctYWRkciBjb3Ntb3MxLi4uIC0tZnJvbSBjb3Ntb3MxLi4uCmBgYAoKIyMjIyMgd2l0aGRyYXctYWxsLXJld2FyZHMKClRoZSBgd2l0aGRyYXctYWxsLXJld2FyZHNgIGNvbW1hbmQgYWxsb3dzIHVzZXJzIHRvIHdpdGhkcmF3IGFsbCByZXdhcmRzIGZvciBhIGRlbGVnYXRvci4KCmBgYHNoZWxsCnNpbWQgdHggZGlzdHJpYnV0aW9uIHdpdGhkcmF3LWFsbC1yZXdhcmRzIFtmbGFnc10KYGBgCgpFeGFtcGxlOgoKYGBgc2hlbGwKc2ltZCB0eCBkaXN0cmlidXRpb24gd2l0aGRyYXctYWxsLXJld2FyZHMgLS1mcm9tIGNvc21vczEuLi4KYGBgCgojIyMjIyB3aXRoZHJhdy1yZXdhcmRzCgpUaGUgYHdpdGhkcmF3LXJld2FyZHNgIGNvbW1hbmQgYWxsb3dzIHVzZXJzIHRvIHdpdGhkcmF3IGFsbCByZXdhcmRzIGZyb20gYSBnaXZlbiBkZWxlZ2F0aW9uIGFkZHJlc3MsCmFuZCBvcHRpb25hbGx5IHdpdGhkcmF3IHZhbGlkYXRvciBjb21taXNzaW9uIGlmIHRoZSBkZWxlZ2F0aW9uIGFkZHJlc3MgZ2l2ZW4gaXMgYSB2YWxpZGF0b3Igb3BlcmF0b3IgYW5kIHRoZSB1c2VyIHByb3ZlcyB0aGUgYC0tY29tbWlzc2lvbmAgZmxhZy4KCmBgYHNoZWxsCnNpbWQgdHggZGlzdHJpYnV0aW9uIHdpdGhkcmF3LXJld2FyZHMgW3ZhbGlkYXRvci1hZGRyXSBbZmxhZ3NdCmBgYAoKRXhhbXBsZToKCmBgYHNoZWxsCnNpbWQgdHggZGlzdHJpYnV0aW9uIHdpdGhkcmF3LXJld2FyZHMgY29zbW9zdmFsb3BlcjEuLi4gLS1mcm9tIGNvc21vczEuLi4gLS1jb21taXNzaW9uCmBgYAoKIyMjIGdSUEMKCkEgdXNlciBjYW4gcXVlcnkgdGhlIGBkaXN0cmlidXRpb25gIG1vZHVsZSB1c2luZyBnUlBDIGVuZHBvaW50cy4KCiMjIyMgUGFyYW1zCgpUaGUgYFBhcmFtc2AgZW5kcG9pbnQgYWxsb3dzIHVzZXJzIHRvIHF1ZXJ5IHBhcmFtZXRlcnMgb2YgdGhlIGBkaXN0cmlidXRpb25gIG1vZHVsZS4KCkV4YW1wbGU6CgpgYGBzaGVsbApncnBjdXJsIC1wbGFpbnRleHQgXAogICAgbG9jYWxob3N0OjkwOTAgXAogICAgY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5L1BhcmFtcwpgYGAKCkV4YW1wbGUgT3V0cHV0OgoKYGBganNvbgp7CiAgJnF1b3Q7cGFyYW1zJnF1b3Q7OiB7CiAgICAmcXVvdDtjb21tdW5pdHlUYXgmcXVvdDs6ICZxdW90OzIwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7LAogICAgJnF1b3Q7YmFzZVByb3Bvc2VyUmV3YXJkJnF1b3Q7OiAmcXVvdDswMDAwMDAwMDAwMDAwMDAwMCZxdW90OywKICAgICZxdW90O2JvbnVzUHJvcG9zZXJSZXdhcmQmcXVvdDs6ICZxdW90OzAwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7LAogICAgJnF1b3Q7d2l0aGRyYXdBZGRyRW5hYmxlZCZxdW90OzogdHJ1ZQogIH0KfQpgYGAKCiMjIyMgVmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mbwoKVGhlIGBWYWxpZGF0b3JEaXN0cmlidXRpb25JbmZvYCBxdWVyaWVzIHZhbGlkYXRvciBjb21taXNzaW9uIGFuZCBzZWxmLWRlbGVnYXRpb24gcmV3YXJkcyBmb3IgdmFsaWRhdG9yLgoKRXhhbXBsZToKCmBgYHNoZWxsCmdycGN1cmwgLXBsYWludGV4dCBcCiAgICAtZCAneyZxdW90O3ZhbGlkYXRvcl9hZGRyZXNzJnF1b3Q7OiZxdW90O2Nvc21vc3ZhbG9wMS4uLiZxdW90O30nIFwKICAgIGxvY2FsaG9zdDo5MDkwIFwKICAgIGNvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeS9WYWxpZGF0b3JEaXN0cmlidXRpb25JbmZvCmBgYAoKRXhhbXBsZSBPdXRwdXQ6CgpgYGBqc29uCnsKICAmcXVvdDtjb21taXNzaW9uJnF1b3Q7OiB7CiAgICAmcXVvdDtjb21taXNzaW9uJnF1b3Q7OiBbCiAgICAgIHsKICAgICAgICAmcXVvdDtkZW5vbSZxdW90OzogJnF1b3Q7c3Rha2UmcXVvdDssCiAgICAgICAgJnF1b3Q7YW1vdW50JnF1b3Q7OiAmcXVvdDsxMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgICAgIH0KICAgIF0KICB9LAogICZxdW90O3NlbGZfYm9uZF9yZXdhcmRzJnF1b3Q7OiBbCiAgICB7CiAgICAgICZxdW90O2Rlbm9tJnF1b3Q7OiAmcXVvdDtzdGFrZSZxdW90OywKICAgICAgJnF1b3Q7YW1vdW50JnF1b3Q7OiAmcXVvdDsxMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgICB9CiAgXSwKICAmcXVvdDt2YWxpZGF0b3JfYWRkcmVzcyZxdW90OzogJnF1b3Q7Y29zbW9zdmFsb3AxLi4uJnF1b3Q7Cn0KYGBgCgojIyMjIFZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkcwoKVGhlIGBWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNgIGVuZHBvaW50IGFsbG93cyB1c2VycyB0byBxdWVyeSByZXdhcmRzIG9mIGEgdmFsaWRhdG9yIGFkZHJlc3MuCgpFeGFtcGxlOgoKYGBgc2hlbGwKZ3JwY3VybCAtcGxhaW50ZXh0IFwKICAgIC1kICd7JnF1b3Q7dmFsaWRhdG9yX2FkZHJlc3MmcXVvdDs6JnF1b3Q7Y29zbW9zdmFsb3AxLi4mcXVvdDt9JyBcCiAgICBsb2NhbGhvc3Q6OTA5MCBcCiAgICBjb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnkvVmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzCmBgYAoKRXhhbXBsZSBPdXRwdXQ6CgpgYGBqc29uCnsKICAmcXVvdDtyZXdhcmRzJnF1b3Q7OiB7CiAgICAmcXVvdDtyZXdhcmRzJnF1b3Q7OiBbCiAgICAgIHsKICAgICAgICAmcXVvdDtkZW5vbSZxdW90OzogJnF1b3Q7c3Rha2UmcXVvdDssCiAgICAgICAgJnF1b3Q7YW1vdW50JnF1b3Q7OiAmcXVvdDsxMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgICAgIH0KICAgIF0KICB9Cn0KYGBgCgojIyMjIFZhbGlkYXRvckNvbW1pc3Npb24KClRoZSBgVmFsaWRhdG9yQ29tbWlzc2lvbmAgZW5kcG9pbnQgYWxsb3dzIHVzZXJzIHRvIHF1ZXJ5IGFjY3VtdWxhdGVkIGNvbW1pc3Npb24gZm9yIGEgdmFsaWRhdG9yLgoKRXhhbXBsZToKCmBgYHNoZWxsCmdycGN1cmwgLXBsYWludGV4dCBcCiAgICAtZCAneyZxdW90O3ZhbGlkYXRvcl9hZGRyZXNzJnF1b3Q7OiZxdW90O2Nvc21vc3ZhbG9wMS4uJnF1b3Q7fScgXAogICAgbG9jYWxob3N0OjkwOTAgXAogICAgY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5L1ZhbGlkYXRvckNvbW1pc3Npb24KYGBgCgpFeGFtcGxlIE91dHB1dDoKCmBgYGpzb24KewogICZxdW90O2NvbW1pc3Npb24mcXVvdDs6IHsKICAgICZxdW90O2NvbW1pc3Npb24mcXVvdDs6IFsKICAgICAgewogICAgICAgICZxdW90O2Rlbm9tJnF1b3Q7OiAmcXVvdDtzdGFrZSZxdW90OywKICAgICAgICAmcXVvdDthbW91bnQmcXVvdDs6ICZxdW90OzEwMDAwMDAwMDAwMDAwMDAmcXVvdDsKICAgICAgfQogICAgXQogIH0KfQpgYGAKCiMjIyMgVmFsaWRhdG9yU2xhc2hlcwoKVGhlIGBWYWxpZGF0b3JTbGFzaGVzYCBlbmRwb2ludCBhbGxvd3MgdXNlcnMgdG8gcXVlcnkgc2xhc2ggZXZlbnRzIG9mIGEgdmFsaWRhdG9yLgoKRXhhbXBsZToKCmBgYHNoZWxsCmdycGN1cmwgLXBsYWludGV4dCBcCiAgICAtZCAneyZxdW90O3ZhbGlkYXRvcl9hZGRyZXNzJnF1b3Q7OiZxdW90O2Nvc21vc3ZhbG9wMS4uJnF1b3Q7fScgXAogICAgbG9jYWxob3N0OjkwOTAgXAogICAgY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5L1ZhbGlkYXRvclNsYXNoZXMKYGBgCgpFeGFtcGxlIE91dHB1dDoKCmBgYGpzb24KewogICZxdW90O3NsYXNoZXMmcXVvdDs6IFsKICAgIHsKICAgICAgJnF1b3Q7dmFsaWRhdG9yX3BlcmlvZCZxdW90OzogJnF1b3Q7MjAmcXVvdDssCiAgICAgICZxdW90O2ZyYWN0aW9uJnF1b3Q7OiAmcXVvdDswLjAwOTk5OTk5OTk5OTk5OTk5OSZxdW90OwogICAgfQogIF0sCiAgJnF1b3Q7cGFnaW5hdGlvbiZxdW90OzogewogICAgJnF1b3Q7dG90YWwmcXVvdDs6ICZxdW90OzEmcXVvdDsKICB9Cn0KYGBgCgojIyMjIERlbGVnYXRpb25SZXdhcmRzCgpUaGUgYERlbGVnYXRpb25SZXdhcmRzYCBlbmRwb2ludCBhbGxvd3MgdXNlcnMgdG8gcXVlcnkgdGhlIHRvdGFsIHJld2FyZHMgYWNjcnVlZCBieSBhIGRlbGVnYXRpb24uCgpFeGFtcGxlOgoKYGBgc2hlbGwKZ3JwY3VybCAtcGxhaW50ZXh0IFwKICAgIC1kICd7JnF1b3Q7ZGVsZWdhdG9yX2FkZHJlc3MmcXVvdDs6JnF1b3Q7Y29zbW9zMS4uLiZxdW90OywmcXVvdDt2YWxpZGF0b3JfYWRkcmVzcyZxdW90OzomcXVvdDtjb3Ntb3N2YWxvcDEuLi4mcXVvdDt9JyBcCiAgICBsb2NhbGhvc3Q6OTA5MCBcCiAgICBjb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnkvRGVsZWdhdGlvblJld2FyZHMKYGBgCgpFeGFtcGxlIE91dHB1dDoKCmBgYGpzb24KewogICZxdW90O3Jld2FyZHMmcXVvdDs6IFsKICAgIHsKICAgICAgJnF1b3Q7ZGVub20mcXVvdDs6ICZxdW90O3N0YWtlJnF1b3Q7LAogICAgICAmcXVvdDthbW91bnQmcXVvdDs6ICZxdW90OzEwMDAwMDAwMDAwMDAwMDAmcXVvdDsKICAgIH0KICBdCn0KYGBgCgojIyMjIERlbGVnYXRpb25Ub3RhbFJld2FyZHMKClRoZSBgRGVsZWdhdGlvblRvdGFsUmV3YXJkc2AgZW5kcG9pbnQgYWxsb3dzIHVzZXJzIHRvIHF1ZXJ5IHRoZSB0b3RhbCByZXdhcmRzIGFjY3J1ZWQgYnkgZWFjaCB2YWxpZGF0b3IuCgpFeGFtcGxlOgoKYGBgc2hlbGwKZ3JwY3VybCAtcGxhaW50ZXh0IFwKICAgIC1kICd7JnF1b3Q7ZGVsZWdhdG9yX2FkZHJlc3MmcXVvdDs6JnF1b3Q7Y29zbW9zMS4uLiZxdW90O30nIFwKICAgIGxvY2FsaG9zdDo5MDkwIFwKICAgIGNvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeS9EZWxlZ2F0aW9uVG90YWxSZXdhcmRzCmBgYAoKRXhhbXBsZSBPdXRwdXQ6CgpgYGBqc29uCnsKICAmcXVvdDtyZXdhcmRzJnF1b3Q7OiBbCiAgICB7CiAgICAgICZxdW90O3ZhbGlkYXRvckFkZHJlc3MmcXVvdDs6ICZxdW90O2Nvc21vc3ZhbG9wZXIxLi4uJnF1b3Q7LAogICAgICAmcXVvdDtyZXdhcmQmcXVvdDs6IFsKICAgICAgICB7CiAgICAgICAgICAmcXVvdDtkZW5vbSZxdW90OzogJnF1b3Q7c3Rha2UmcXVvdDssCiAgICAgICAgICAmcXVvdDthbW91bnQmcXVvdDs6ICZxdW90OzEwMDAwMDAwMDAwMDAwMDAmcXVvdDsKICAgICAgICB9CiAgICAgIF0KICAgIH0KICBdLAogICZxdW90O3RvdGFsJnF1b3Q7OiBbCiAgICB7CiAgICAgICZxdW90O2Rlbm9tJnF1b3Q7OiAmcXVvdDtzdGFrZSZxdW90OywKICAgICAgJnF1b3Q7YW1vdW50JnF1b3Q7OiAmcXVvdDsxMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgICB9CiAgXQp9CmBgYAoKIyMjIyBEZWxlZ2F0b3JWYWxpZGF0b3JzCgpUaGUgYERlbGVnYXRvclZhbGlkYXRvcnNgIGVuZHBvaW50IGFsbG93cyB1c2VycyB0byBxdWVyeSBhbGwgdmFsaWRhdG9ycyBmb3IgZ2l2ZW4gZGVsZWdhdG9yLgoKRXhhbXBsZToKCmBgYHNoZWxsCmdycGN1cmwgLXBsYWludGV4dCBcCiAgICAtZCAneyZxdW90O2RlbGVnYXRvcl9hZGRyZXNzJnF1b3Q7OiZxdW90O2Nvc21vczEuLi4mcXVvdDt9JyBcCiAgICBsb2NhbGhvc3Q6OTA5MCBcCiAgICBjb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnkvRGVsZWdhdG9yVmFsaWRhdG9ycwpgYGAKCkV4YW1wbGUgT3V0cHV0OgoKYGBganNvbgp7CiAgJnF1b3Q7dmFsaWRhdG9ycyZxdW90OzogWyZxdW90O2Nvc21vc3ZhbG9wZXIxLi4uJnF1b3Q7XQp9CmBgYAoKIyMjIyBEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3MKClRoZSBgRGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzYCBlbmRwb2ludCBhbGxvd3MgdXNlcnMgdG8gcXVlcnkgdGhlIHdpdGhkcmF3IGFkZHJlc3Mgb2YgYSBkZWxlZ2F0b3IuCgpFeGFtcGxlOgoKYGBgc2hlbGwKZ3JwY3VybCAtcGxhaW50ZXh0IFwKICAgIC1kICd7JnF1b3Q7ZGVsZWdhdG9yX2FkZHJlc3MmcXVvdDs6JnF1b3Q7Y29zbW9zMS4uLiZxdW90O30nIFwKICAgIGxvY2FsaG9zdDo5MDkwIFwKICAgIGNvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeS9EZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3MKYGBgCgpFeGFtcGxlIE91dHB1dDoKCmBgYGpzb24KewogICZxdW90O3dpdGhkcmF3QWRkcmVzcyZxdW90OzogJnF1b3Q7Y29zbW9zMS4uLiZxdW90Owp9CmBgYAoKIyMjIyBDb21tdW5pdHlQb29sCgpUaGUgYENvbW11bml0eVBvb2xgIGVuZHBvaW50IGFsbG93cyB1c2VycyB0byBxdWVyeSB0aGUgY29tbXVuaXR5IHBvb2wgY29pbnMuCgpFeGFtcGxlOgoKYGBgc2hlbGwKZ3JwY3VybCAtcGxhaW50ZXh0IFwKICAgIGxvY2FsaG9zdDo5MDkwIFwKICAgIGNvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeS9Db21tdW5pdHlQb29sCmBgYAoKRXhhbXBsZSBPdXRwdXQ6CgpgYGBqc29uCnsKICAmcXVvdDtwb29sJnF1b3Q7OiBbCiAgICB7CiAgICAgICZxdW90O2Rlbm9tJnF1b3Q7OiAmcXVvdDtzdGFrZSZxdW90OywKICAgICAgJnF1b3Q7YW1vdW50JnF1b3Q7OiAmcXVvdDsxMDAwMDAwMDAwMDAwMDAwMDAwJnF1b3Q7CiAgICB9CiAgXQp9CmBgYAo="}})],1)}),[],!1,null,null,null);t.default=s.exports}}]);